(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ce1e58f"],{"6df9":function(e,o,s){},"6e13":function(e,o,s){"use strict";s.r(o);var n=function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"about"},[s("div",{ref:"content"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],staticStyle:{"text-align":"center"}},[s("button",{attrs:{id:"aa"}},[e._v("加载更多")])]),e._l(e.list,(function(o){return s("div",{staticClass:"item"},[s("div",{staticClass:"wa"},[s("div",{staticClass:"left"},[o.custom.ext&&o.custom.ext.identity&&o.custom.ext.identity.headUrl?s("img",{attrs:{src:o.custom.ext.identity.headUrl,alt:""},on:{click:function(s){return e.show(o.custom.ext.identity.headUrl)}}}):s("img",{attrs:{src:"img/eastPhoto@2x.png",alt:""}})]),s("div",{staticClass:"right"},[s("p",{staticClass:"name",class:{tip:o.from===e.teacher||-1!==e.admin.indexOf(o.from)}},[e._v(" "+e._s(o.fromNick)+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:o.from===e.teacher,expression:"item.from === teacher"}],staticClass:"teacher"},[e._v("讲师")]),s("span",[e._v(e._s(new Date(o.time).toLocaleString()))])]),"text"==o.type?s("p",{staticClass:"text",class:{tipBack:"顶底之王"===o.fromNick||-1!==e.admin.indexOf(o.from)}},[e._v(" "+e._s(o.text)+" ")]):e._e(),"custom"==o.type?s("p",{staticClass:"text yellow"},[e._v(" 被删："+e._s(o.custom.ext.deleteMsg.test)+" ")]):e._e(),"image"==o.type?s("p",{staticClass:"text"},[s("img",{attrs:{src:o.file.url,alt:""},on:{click:function(s){return e.show(o.file.url)}}})]):e._e(),s("div",[o.custom.ext&&o.custom.ext.identity&&5==o.custom.ext.identity.identityType?s("p",{staticClass:"reply"},[e._v(" "+e._s(o.custom.ext.identity.replyContent)+" ")]):e._e()])])])])})),s("p",{staticStyle:{"padding-bottom":"100px"}})],2),s("van-image-preview",{attrs:{closeable:"",images:e.imageList,"start-position":e.startPosition},model:{value:e.imgShow,callback:function(o){e.imgShow=o},expression:"imgShow"}})],1)},t=[],i=s("d696"),c=(s("dcd6"),s("8c89")),a=(s("90df"),s("d8ae"),s("3abb"),s("0e15"),{name:"AboutDetail",components:Object(i["a"])({},c["a"].Component.name,c["a"].Component),data:function(){return{renderBy:"",list:[],teacher:"prod_l809_bhdoyw",admin:["prod_u966198_9q2tk2","prod_s145_oan1nj"],imgShow:!1,imageList:[],startPosition:0}},methods:{show:function(e){this.imageList.length=0,this.imageList.push(e),this.imgShow=!0},co:function(){}},mounted:function(){var e=this,o={};e.Toast.loading({message:"加载中...",forbidClick:!0,duration:0});var s=SDK.NIM.getInstance({appKey:"ea2ee5fe8c9f29543746b34ca4844d29",account:"prod_u974278_ylezmw",token:"9e33cd176198a22026df726dd6fa1995",onconnect:n,onerror:c,onwillreconnect:t,ondisconnect:i,onloginportschange:a,onblacklist:l,onsyncmarkinblacklist:r,onmutelist:g,onsyncmarkinmutelist:f,onfriends:h,onsyncfriendaction:k,onmyinfo:M,onupdatemyinfo:C,onusers:I,onupdateuser:S,onteams:A,onsynccreateteam:N,onUpdateTeam:O,onteammembers:U,onupdateteammember:j,onTeamMsgReceipt:L,onsessions:E,onupdatesession:J,onroamingmsgs:K,onofflinemsgs:H,onmsg:P,onofflinesysmsgs:G,onsysmsg:Q,onupdatesysmsg:V,onsysmsgunread:X,onupdatesysmsgunread:Y,onofflinecustomsysmsgs:ee,oncustomsysmsg:oe,onbroadcastmsg:$,onbroadcastmsgs:z,onsyncdone:se});function n(){function o(o,s){console.log("获取聊天室地址"+(o?"失败":"成功"),o,s);var n=SDK.Chatroom.getInstance({appKey:"ea2ee5fe8c9f29543746b34ca4844d29",account:"prod_u974278_ylezmw",token:"9e33cd176198a22026df726dd6fa1995",chatroomId:"650118464",chatroomAddresses:s.address,onconnect:t,onerror:l,onwillreconnect:c,ondisconnect:a,onmsgs:i});function t(o){console.log("进入聊天室",o),n.getHistoryMsgs({timetag:Date.parse(new Date),msgTypes:["text","image","audio","video","file","geo","tip","notification","custom"],reverse:!1,done:function(o,s){console.log("获取聊天室历史"+(o?"失败":"成功"),o,s.msgs),e.Toast.clear();s.msgs.reverse(),s.msgs.forEach((function(e){e.custom=e.custom?JSON.parse(e.custom):""})),e.list=s.msgs,e.$nextTick((function(){window.scrollTo(0,e.$refs.content.scrollHeight)}))}}),n.getChatroomMembers({guest:!0,limit:99999,done:function(e,o){console.log("获取聊天室成员"+(e?"失败":"成功"),e,o.members)}}),document.getElementById("aa").addEventListener("click",(function(){e.Toast.loading({message:"加载中...",forbidClick:!0,duration:0}),n.getHistoryMsgs({timetag:e.list[0].time,limit:100,msgTypes:["text","image","audio","video","file","geo","tip","notification","custom"],done:function(o,s){console.log("获取聊天室历史"+(o?"失败":"成功"),o,s.msgs),e.Toast.clear(),s.msgs.reverse(),s.msgs.forEach((function(e){e.custom=e.custom?JSON.parse(e.custom):""})),e.list=s.msgs.concat(e.list)}})}))}function i(o){console.log("收到聊天室消息",o[0]),o[0].custom=o[0].custom?JSON.parse(o[0].custom):"",e.list.push(o[0])}function c(e){console.log("即将重连",e)}function a(e){if(console.log("连接断开",e),e)switch(e.code){case 302:break;case"kicked":break;default:break}}function l(e,o){console.log("发生错误",e,o)}}console.log("连接成功"),s.getChatroomAddress({chatroomId:"650118464",done:o})}function t(e){console.log("即将重连"),console.log(e.retryCount),console.log(e.duration)}function i(e){if(console.log("丢失连接"),console.log(e),e)switch(e.code){case 302:break;case"kicked":break;default:break}}function c(e){console.log(e)}function a(e){console.log("当前登录帐号在其它端的状态发生改变了",e)}function l(e){console.log("收到黑名单",e),o.blacklist=s.mergeRelations(o.blacklist,e),o.blacklist=s.cutRelations(o.blacklist,e.invalid),d()}function r(e){console.log(e),console.log(e.account+"被你在其它端"+(e.isAdd?"加入":"移除")+"黑名单"),e.isAdd?m(e):u(e)}function m(e){o.blacklist=s.mergeRelations(o.blacklist,e.record),d()}function u(e){o.blacklist=s.cutRelations(o.blacklist,e.record),d()}function d(){}function g(e){console.log("收到静音列表",e),o.mutelist=s.mergeRelations(o.mutelist,e),o.mutelist=s.cutRelations(o.mutelist,e.invalid),y()}function f(e){console.log(e),console.log(e.account+"被你"+(e.isAdd?"加入":"移除")+"静音列表"),e.isAdd?p(e):b(e)}function p(e){o.mutelist=s.mergeRelations(o.mutelist,e.record),y()}function b(e){o.mutelist=s.cutRelations(o.mutelist,e.record),y()}function y(){}function h(e){console.log("收到好友列表",e),o.friends=s.mergeFriends(o.friends,e),o.friends=s.cutFriends(o.friends,e.invalid),x()}function k(e){switch(console.log(e),e.type){case"addFriend":console.log("你在其它端直接加了一个好友"+e.account+", 附言"+e.ps),v(e.friend);break;case"applyFriend":console.log("你在其它端申请加了一个好友"+e.account+", 附言"+e.ps);break;case"passFriendApply":console.log("你在其它端通过了一个好友申请"+e.account+", 附言"+e.ps),v(e.friend);break;case"rejectFriendApply":console.log("你在其它端拒绝了一个好友申请"+e.account+", 附言"+e.ps);break;case"deleteFriend":console.log("你在其它端删了一个好友"+e.account),w(e.account);break;case"updateFriend":console.log("你在其它端更新了一个好友",e.friend),_(e.friend);break}}function v(e){o.friends=s.mergeFriends(o.friends,e),x()}function w(e){o.friends=s.cutFriendsByAccounts(o.friends,e),x()}function _(e){o.friends=s.mergeFriends(o.friends,e),x()}function x(){}function M(e){console.log("收到我的名片",e),o.myInfo=e,T()}function C(e){console.log("我的名片更新了",e),o.myInfo=NIM.util.merge(o.myInfo,e),T()}function T(){}function I(e){console.log("收到用户名片列表",e),o.users=s.mergeUsers(o.users,e)}function S(e){console.log("用户名片更新了",e),o.users=s.mergeUsers(o.users,e)}function A(e){console.log("群列表",e),o.teams=s.mergeTeams(o.teams,e),F(e.invalid)}function F(e){o.teams=s.cutTeams(o.teams,e),o.invalidTeams=s.mergeTeams(o.invalidTeams,e),R()}function N(e){console.log("你创建了一个群",e),o.teams=s.mergeTeams(o.teams,e),R(),U({teamId:e.teamId,members:owner})}function R(){}function U(e,n){console.log("群id",e,"群成员",n);e=obj.teamId,n=obj.members;o.teamMembers=o.teamMembers||{},o.teamMembers[e]=s.mergeTeamMembers(o.teamMembers[e],n),o.teamMembers[e]=s.cutTeamMembers(o.teamMembers[e],n.invalid),D()}function O(e){console.log("群状态更新",e)}function j(e){console.log("群成员信息更新了",e),U({teamId:e.teamId,members:e})}function D(){}function L(e){console.log("群消息已读通知",e)}function E(e){console.log("收到会话列表",e),o.sessions=s.mergeSessions(o.sessions,e),B()}function J(e){console.log("会话更新了",e),o.sessions=s.mergeSessions(o.sessions,e),B()}function B(){}function K(e){console.log("漫游消息",e),q(e.msgs)}function H(e){console.log("离线消息",e),q(e.msgs)}function P(e){console.log("收到消息",e.scene,e.type,e),q(e)}function $(e){console.log("收到广播消息",e)}function z(e){console.log("收到广播消息列表",e)}function q(e){Array.isArray(e)||(e=[e]);var n=e[0].sessionId;o.msgs=o.msgs||{},o.msgs[n]=s.mergeMsgs(o.msgs[n],e)}function G(e){console.log("收到离线系统通知",e),W(e)}function Q(e){console.log("收到系统通知",e),W(e)}function V(e){W(e)}function W(e){o.sysMsgs=s.mergeSysMsgs(o.sysMsgs,e),Z()}function X(e){console.log("收到系统通知未读数",e),o.sysMsgUnread=e,Z()}function Y(e){console.log("系统通知未读数更新了",e),o.sysMsgUnread=e,Z()}function Z(){}function ee(e){console.log("收到离线自定义系统通知",e)}function oe(e){console.log("收到自定义系统通知",e)}function se(){console.log("同步完成")}}}),l=a,r=(s("7b87"),s("cba8")),m=Object(r["a"])(l,n,t,!1,null,"2062227e",null);o["default"]=m.exports},"7b87":function(e,o,s){"use strict";s("6df9")}}]);
//# sourceMappingURL=chunk-7ce1e58f.83d7b833.js.map